const dict_1980 = {
  "Total Population": {
    "Total Population": ["JSE_T001_0"],
  },
  Sex: {
    Male: ["JSE_T003_1"],
    Female: ["JSE_T003_2"],
  },

  Age: {
    "Under 5 years": ["JSE_T006_1"],
    "5 to 9 years": ["JSE_T006_2"],
    "10 to 14 years": ["JSE_T006_3"],
    "15 to 17 years": ["JSE_T006_4"],
    "18 to 24 years": ["JSE_T006_5"],
    "25 to 34 years": ["JSE_T006_6"],
    "35 to 44 years": ["JSE_T006_7"],
    "45 to 54 years": ["JSE_T006_8"],
    "55 to 64 years": ["JSE_T006_9"],
    "65 to 74 years": ["JSE_T00610"],
    "75 to 84 years": ["JSE_T00611"],
    "85 years and over": ["JSE_T00612"],
  },

  Race: {
    White: ["JSE_T012_1"],
    Black: ["JSE_T012_2"],
    "American Indian, Eskimo, and Aleut": ["JSE_T012_3"],
    "Asian and Pacific Islander": ["JSE_T012_4"],
    "Other race": ["JSE_T012_5"],
  },

  "Educational Attainment for Population 25 Years and Over": {
    "Persons 25 Years Old And Over": ["JSE_T031_0"],
    "Elementary (0 to 8 years)": ["JSE_T031_1"],
    "High School (Total)": ["JSE_T031_2"],
    "High School: 1 to 3 years": ["JSE_T031_3"],
    "High School: 4 years": ["JSE_T031_4"],
    "College (Total)": ["JSE_T031_5"],
    "College: 1 to 3 years": ["JSE_T031_6"],
    "College: 4 or more years": ["JSE_T031_7"],
  },

  "School Enrollment": {
    "Persons 3 Years Old And Over": ["JSE_T034_0"],
    "Nursery school": ["JSE_T034_1"],
    "Kindergarten and elementary (1 to 8 years)": ["JSE_T034_2"],
    "High school (1 to 4 years)": ["JSE_T034_3"],
    College: ["JSE_T034_4"],
  },

  "Employment Status For Population 16 Years And Over": {
    "Persons 16 Years And Over": ["JSE_T036_0"],
    "Armed Forces": ["JSE_T036_1"],
    "Total Civilian Labor Force": ["JSE_T036_2"],
    "Civilian labor force: Employed": ["JSE_T036_3"],
    "Civilian labor force: Unemployed": ["JSE_T036_4"],
    "Not in labor force": ["JSE_T036_5"],
  },

  Occupation: {
    "Employed Persons 16 Years And Over": ["JSE_T050_0"],
    "Managerial and professional specialty occupations": ["JSE_T050_1"],
    "Technical, sales, and administrative support occupations": ["JSE_T050_4"],
    "Service occupations": ["JSE_T050_8"],
    "Operators, fabricators, and laborers": ["JSE_T05014"],
  },

  "Household Income": {
    "Number of Households": ["JSE_T052_0"],
    "Low Income": [
      "JSE_T052_1",
      "JSE_T052_2",
      "JSE_T052_3",
      "JSE_T052_4",
      "JSE_T052_5",
      "JSE_T052_6",
      "JSE_T052_7",
    ],
    "Lower-Middle Income": [
      "JSE_T052_8",
      "JSE_T052_9",
      "JSE_T05210",
      "JSE_T05211",
      "JSE_T05212",
      "JSE_T05213",
    ],
    "Middle Income": ["JSE_T05214", "JSE_T05215"],
    "Upper-Middle Income": ["JSE_T05216"],
    "High Income": ["JSE_T05217"],
  },

  "Year-Round Housing Units": {
    "Year-Round Housing units": ["JSE_T080_0"],
  },
};

const dict_1990 = {
  "Total Population": {
    "Total Population": "jSE_T001_0",
  },
  Sex: {
    Male: "jSE_T005_1",
    Female: "jSE_T005_2",
  },
  Age: {
    "Under 5 years": "jSE_T008_1",
    "5 to 9 years": "jSE_T008_2",
    "10 to 14 years": "jSE_T008_3",
    "15 to 17 years": "jSE_T008_4",
    "18 to 24 years": "jSE_T008_5",
    "25 to 34 years": "jSE_T008_6",
    "35 to 44 years": "jSE_T008_7",
    "45 to 54 years": "jSE_T008_8",
    "55 to 64 years": "jSE_T008_9",
    "65 to 74 years": "jSE_T00810",
    "75 to 84 years": "jSE_T00811",
    "85 years and over": "jSE_T00812",
  },
  Race: {
    White: "jSE_T012_1",
    Black: "jSE_T012_2",
    "American Indian, Eskimo, or Aleut": "jSE_T012_3",
    "Asian or Pacific Islander": "jSE_T012_4",
    "Other race": "jSE_T012_5",
  },
  "Educational Attainment for Population 25 Years and Over": {
    "Persons 25 Years Old And Over": "jSE_T022_0",
    "Less than High School": "jSE_T022_1",
    "High school graduate (includes equivalency": "jSE_T022_2",
    "Some college": "jSE_T022_3",
    "Bachelor's Degree": "jSE_T022_4",
    "Graduate or professional degree": "jSE_T022_5",
  },
  "School Enrollment For The Population 3 Years And Over": {
    "Persons 3 Years Old And Over": "jSE_T023_0",
    "Enrolled in School": "jSE_T023_1",
    "Not Enrolled in School": "jSE_T023_2",
  },
  "Employment Status For Population 16 Years And Over": {
    "Population 16 Years And Over": "jSE_T025_0",
    "Total in Labor Force": "jSE_T025_2",
    "Armed Forces": "jSE_T025_3",
    "Total Civilian Labor Force": "jSE_T025_4",
    "Civilian labor force: Employed": "jSE_T025_5",
    "Civilian labor force: Unemployed": "jSE_T025_6",
    "Not in labor force": "jSE_T025_7",
  },
  Occupation: {
    "Employed Persons 16 Years And Over": "jSE_T039_0",
    "Managerial and professional specialty occupations": "jSE_T039_1",
    "Technical, sales, and administrative support occupations": "jSE_T039_4",
    "Service occupations": "jSE_T039_8",
    "Operators, fabricators, and laborers": "jSE_T03914",
  },
  "Household Income": {
    "Number of Households": "jSE_T041_0",
    "Low Income": [
      "jSE_T041_1",
      "jSE_T041_2",
      "jSE_T041_3",
      "jSE_T041_4",
      "jSE_T041_5",
      "jSE_T041_6",
      "jSE_T041_7",
    ],
    "Lower-Middle Income": [
      "jSE_T041_8",
      "jSE_T041_9",
      "jSE_T04110",
      "jSE_T04111",
      "jSE_T04112",
      "jSE_T04113",
      "jSE_T04114",
      "jSE_T04115",
      "jSE_T04116",
      "jSE_T04117",
      "jSE_T04118",
    ],
    "Middle Income": ["jSE_T04119", "jSE_T04120", "jSE_T04121"],
    "Upper-Middle Income": ["jSE_T04122"],
    "High Income": ["jSE_T04123", "jSE_T04124", "jSE_T04125"],
  },
  "Housing Units": {
    "Housing units": "jSE_T072_0",
  },
};

const dict_2000 = {
  "Total Population": {
    "Total Population": "jSE_T001_0",
  },
  Sex: {
    Male: "jSE_T005_1",
    Female: "jSE_T005_2",
  },
  Age: {
    "Under 5 years": "jSE_T008_1",
    "5 to 9 years": "jSE_T008_2",
    "10 to 14 years": "jSE_T008_3",
    "15 to 17 years": "jSE_T008_4",
    "18 to 24 years": "jSE_T008_5",
    "25 to 34 years": "jSE_T008_6",
    "35 to 44 years": "jSE_T008_7",
    "45 to 54 years": "jSE_T008_8",
    "55 to 64 years": "jSE_T008_9",
    "65 to 74 years": "jSE_T00810",
    "75 to 84 years": "jSE_T00811",
    "85 years and over": "jSE_T00812",
  },
  Race: {
    "White Alone": "jSE_T014_1",
    "Black or African American Alone": "jSE_T014_2",
    "American Indian and Alaska Native Alone": "jSE_T014_3",
    "Asian Alone": "jSE_T014_4",
    "Native Hawaiian and Other Pacific Islander Alone": "jSE_T014_5",
    "Some other race Alone": "jSE_T014_6",
    "Two or more races": "jSE_T014_7",
  },
  "Educational Attainment For Population 25 Years And Over": {
    "Population 25 years and over": "jSE_T040_0",
    "Less Than High School": "jSE_T040_1",
    "High School Graduate (includes equivalency)": "jSE_T040_2",
    "Some college": "jSE_T040_3",
    "Bachelor's degree": "jSE_T040_4",
    "Master's degree": "jSE_T040_5",
    "Professional school degree": "jSE_T040_6",
    "Doctorate degree": "jSE_T040_7",
  },
  "School Enrollment For The Population 3 Years And Over": {
    "Population 3 years and over": "jSE_T055_0",
    "Enrolled in School": "jSE_T055_1",
    "Not Enrolled in School": "jSE_T055_2",
  },
  "Employment Status For Total Population 16 Years And Over": {
    "Population 16 years and over": "jSE_T069_0",
    "Total in labor force": "jSE_T069_1",
    "In Armed Forces": "jSE_T069_2",
    "Total in Civillian Labor Force": "jSE_T069_3",
    "Civilian Labor Force: Employed": "jSE_T069_4",
    "Civilian Labor Force: Unemployed": "jSE_T069_5",
    "Not in labor force": "jSE_T069_6",
  },
  "Occupation For Employed Civilian Population 16 Years And Over": {
    "Employed civilian population 16 years and over": "jSE_T086_0",
    "Management, business, and financial operations occupations": "jSE_T086_1",
    "Personal care and service occupations": "jSE_T086_7",
    "Sales and related occupations": "jSE_T086_8",
    "Construction, extraction, and maintenance occupations": "jSE_T08611",
    "Transportation and material moving occupations": "jSE_T08613",
  },
  "Household Income": {
    "Number of Households": "jSE_T092_0",
    "Low Income": ["jSE_T092_1", "jSE_T092_2", "jSE_T092_3"],
    "Lower-Middle Income": [
      "jSE_T092_4",
      "jSE_T092_5",
      "jSE_T092_6",
      "jSE_T092_7",
      "jSE_T092_8",
      "jSE_T092_9",
    ],
    "Middle Income": ["jSE_T09210", "jSE_T09211"],
    "Upper-Middle Income": ["jSE_T09212", "jSE_T09213"],
    "High Income": ["jSE_T09214", "jSE_T09215", "jSE_T09216"],
  },
  "Housing Units": {
    "Housing units": "jSE_T155_0",
  },
};

const censusMapping = {
  1980: dict_1980,
  1990: dict_1990,
  2000: dict_2000,
};

// do the assignment stuff from chat gpt
const assign_income_categories = (map, censusMapping) => {
  // build array that is sum of values at each income bracket for each census tract
  incomeVars = censusMapping["Household Income"];
  incomeValues = Object.values(incomeVars).map((item) => {
    const varName = item[0];
    let value = 0;
    for (const feature of map.features) {
      value += feature.propreties[varName];
    }
    return value;
  });
  const totalIncomeLevels = {};
  let i = 0;
  for (const incomeLevel of Object.keys(incomeVars)) {
    totalIncomeLevels[incomeLevel] = incomeValues[i];
    i++;
  }
  console.log(totalIncomeLevels);
};

export default assign_income_categories;
